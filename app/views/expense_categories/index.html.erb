<div class="panel panel-default">
  <div class="panel-heading">Expense transactions</div>
  <div class="panel-body">

<table>
  <thead>
    <tr>
      <th>Category</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>

  <tbody>
    <% @expense_categories.each do |category| %>
      
        <tr>
          <td><%= category.name %> 
            <div id="<%=category.name%>_transactions" style="display:none;" >
              <%= render :partial => 'expense_transactions/form' %>
            </div>
            <p>
              <%= link_to_function "Add a transaction" , %Q(document.getElementById("#{category.name}_transactions").style.display = ''), id: %Q(add_#{category.name}_transactions)
              %>

              <%= link_to_function "Remove a transaction" , %Q(document.getElementById("#{category.name}_transactions").style.display="none";), id: %Q(remove_#{category.name}_transactions)
              %>
            </p>
          </td>
        </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New category', new_expense_category_path %>
  <div>
</div>